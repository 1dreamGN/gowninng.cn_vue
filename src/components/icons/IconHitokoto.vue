

<template>
  <div class="col-md-6" data-aos="zoom-in">
    <div class="about-contact-box info-box shadow-box">
      <img src="../../assets/images/hitokotobg.png" alt="BG" class="bg-img">
      <svg b="1732284551704" class="icon star-icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="15816" width="37" height="76"><path d="M512 512m-511.886 0a511.886 511.886 0 1 0 1023.772 0 511.886 511.886 0 1 0-1023.772 0Z" fill="#323653" p-id="15817"></path><path d="M587.424 292.682l-305.372 185.326-42.448 69.578 45.822 45.82-142.506 112.636 315.09 315.092c55.528 5.886 112.964 2.752 170.41-10.664 275.296-64.296 446.346-339.59 382.05-614.888a521.2 521.2 0 0 0-6.688-25.658l-106.406-106.408-309.952 29.166z" opacity=".1" p-id="15818"></path><path d="M339.542 283.19c1.578 1.484 1.776 3.958 0.45 5.528-1.33 1.568-3.688 1.632-5.266 0.144-1.578-1.49-1.78-3.962-0.452-5.524 1.332-1.568 3.69-1.632 5.268-0.148z" fill="#FFFFFF" p-id="15819"></path><path d="M330.428 279.712l6.19 6.922 7.22 5.704-6.19-6.916z" fill="#FFFFFF" p-id="15820"></path><path d="M331.482 292.682l6.26-6.08 5.04-7.23-6.26 6.082z" fill="#FFFFFF" p-id="15821"></path><path d="M588.278 629.918c3.156 2.968 3.554 7.918 0.902 11.052-2.664 3.136-7.376 3.266-10.538 0.29-3.154-2.974-3.552-7.92-0.9-11.044 2.666-3.14 7.382-3.268 10.536-0.298z" fill="#FFFFFF" p-id="15822"></path><path d="M570.05 622.962l12.382 13.842 14.438 11.41-12.38-13.836z" fill="#FFFFFF" p-id="15823"></path><path d="M572.16 648.898l12.514-12.16 10.084-14.458-12.522 12.166z" fill="#FFFFFF" p-id="15824"></path><path d="M658.916 48c1.944 1.83 2.19 4.876 0.554 6.808-1.638 1.928-4.54 2.008-6.484 0.176s-2.19-4.878-0.556-6.8c1.642-1.934 4.544-2.014 6.486-0.184z" fill="#FFFFFF" p-id="15825"></path><path d="M647.694 43.718l7.622 8.524 8.892 7.024-7.624-8.518z" fill="#FFFFFF" p-id="15826"></path><path d="M648.992 59.688l7.708-7.488 6.208-8.904-7.71 7.492z" fill="#FFFFFF" p-id="15827"></path><path d="M193.466 190.832c1.578 1.486 1.778 3.958 0.45 5.528-1.33 1.568-3.688 1.632-5.266 0.146-1.578-1.49-1.78-3.962-0.452-5.524 1.332-1.57 3.69-1.634 5.268-0.15z" fill="#FFFFFF" p-id="15828"></path><path d="M184.352 187.356l6.19 6.92 7.22 5.704-6.19-6.916z" fill="#FFFFFF" p-id="15829"></path><path d="M185.406 200.324l6.258-6.08 5.042-7.23-6.26 6.082z" fill="#FFFFFF" p-id="15830"></path><path d="M52.61 450.484c1.58 1.484 1.778 3.958 0.452 5.528-1.33 1.568-3.688 1.632-5.268 0.146-1.576-1.49-1.778-3.962-0.452-5.524 1.334-1.572 3.692-1.634 5.268-0.15z" fill="#FFFFFF" p-id="15831"></path><path d="M43.498 447.008l6.19 6.92 7.22 5.704-6.192-6.916z" fill="#FFFFFF" p-id="15832"></path><path d="M44.552 459.976l6.258-6.082 5.042-7.228-6.262 6.082z" fill="#FFFFFF" p-id="15833"></path><path d="M757.336 923.614c4.45 4.186 5.008 11.17 1.282 15.58-3.768 4.424-10.402 4.618-14.868 0.416-4.45-4.188-5.022-11.178-1.274-15.606 3.75-4.41 10.416-4.584 14.86-0.39z" fill="#E2DDEE" p-id="15834"></path><path d="M731.62 913.8l17.47 19.502 20.368 16.104-17.458-19.498z" fill="#E2DDEE" p-id="15835"></path><path d="M734.606 950.388l17.668-17.152 14.204-20.402-17.652 17.166z" fill="#E2DDEE" p-id="15836"></path><path d="M1006.04 515.742c4.456 4.184 5.01 11.154 1.262 15.574-3.732 4.44-10.392 4.624-14.852 0.424-4.458-4.184-5.014-11.162-1.264-15.576 3.74-4.432 10.404-4.632 14.854-0.422z" fill="#E2DDEE" p-id="15837"></path><path d="M980.33 505.946l17.47 19.51 20.362 16.096-17.462-19.536z" fill="#E2DDEE" p-id="15838"></path><path d="M983.312 542.524l17.654-17.172 14.216-20.376-17.646 17.15z" fill="#E2DDEE" p-id="15839"></path><path d="M286.968 514.85l10.578 82.902 74.29 38.284-75.574 35.676-13.454 82.486-57.286-60.85-82.602 12.694 40.168-73.288-37.598-74.636 82.112 15.556z" fill="#FFD73A" p-id="15840"></path><path d="M297.546 597.752l-10.306-80.772-51.178 110.994-1.908 74.542 48.654 51.682 13.454-82.486 75.574-35.676z" opacity=".1" p-id="15841"></path><path d="M894.85 359.418l82.154 9.248-138.042-94.8 58.612-10.544a471.246 471.246 0 0 0-58.274-24.53C595.43 154.84 329.68 284.48 245.732 528.348a472.932 472.932 0 0 0-6.126 19.238l55.826-55.314 13.616 98.71 46.108 21.718c116.678-165.4 337.528-250.978 538.544-181.78a470.922 470.922 0 0 1 54.94 22.898l-53.79-94.4z" fill="#F79674" p-id="15842"></path><path d="M920.284 404.056l-25.434-44.638 82.154 9.248-116.438-79.964c-330.912-72.514-508.992 137.162-563.316 216.774l11.794 85.506 3.82 1.798c274.452-336.056 532.298-216.062 607.42-188.724z" fill="#FFDC93" p-id="15843"></path></svg>
      <h3>
        <a id="hitokoto_text">{{ hitokotoText }}</a>
        <br>
        <span id="hitokoto_author">{{ hitokotoAuthor }} - 来自一言</span>
      </h3>
      <br>
      <a :href="hitokotoUrl" class="about-btn hitokoto_url" target="_blank"><img src="../../assets/images/icon.svg" alt="Button"></a>
    </div>
  </div>
</template>

<script lang="ts">
import { defineComponent, onMounted, ref, computed } from 'vue';
import axios from 'axios';

export default defineComponent({
  name: 'IconHitokoto',
  setup() {
    // 创建响应式变量用于存储服务器状态信息以及一言相关信息
    const hitokotoText = ref<string>('');
    const hitokotoUrl = ref<string>('');
    const hitokotoAuthor = ref<string>('');

    // 获取一言数据的函数，使用axios进行网络请求
    const getHitokoto = async () => {
      try {
        const response = await axios.get('https://v1.hitokoto.cn/?c=d');
        const data = response.data;
        hitokotoText.value = data.hitokoto + '\xa0\xa0\xa0\xa0\xa0\xa0';
        hitokotoUrl.value = `https://hitokoto.cn/?uuid=${data.uuid}`;
        hitokotoAuthor.value = `${data.from_who}「${data.from}」`;
      } catch (error) {
        console.error('获取一言数据出现错误', error);
      }
    };


    onMounted(() => {
      getHitokoto();
      setInterval(() => {
        getHitokoto();
      }, 20000);
    });


    return {
      hitokotoText,
      hitokotoUrl,
      hitokotoAuthor
    };
  },
});
</script>

<style scoped>

</style>
